---
id: 14
title: Initialize Phase II Constitution
stage: constitution
date: 2025-12-30
surface: agent
model: claude-sonnet-4-5-20250929
feature: none
branch: 001-habit-tracker
user: default
command: "/sp.constitution Habit Tracker & Goal Management Web App (Phase II)"
labels: ["constitution", "habit-tracker", "phase-ii", "security"]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
 - .specify/memory/constitution.md
---

## Prompt

  You are creating the Constitution for a Spec-Kit Plus driven full-stack web application.

Project Name:
Habit Tracker & Goal Management Web App (Phase II)

Core Principle:
This project MUST strictly follow Spec-Kit Plus workflow:
Constitution ‚Üí Specifications ‚Üí Plan ‚Üí Tasks ‚Üí Implementation

Non-Negotiable Rules:
- No implementation before specs are finalized and approved
- No manual coding; all code must be generated by Claude Code
- Authentication is mandatory for all API access
- Every API request must require JWT authentication
- User data isolation is critical; users must only access their own data
- Backend must independently verify JWTs
- Frontend and backend must share a JWT secret via environment variables
- Database persistence is required (Neon Serverless PostgreSQL)

Technical Stack (Mandatory):
Frontend:
- Next.js 16+ (App Router)
- TypeScript
- Tailwind CSS
- Framer Motion for animations
- Better Auth for authentication

Backend:
- Python FastAPI
- SQLModel ORM
- JWT verification middleware

Database:
- Neon Serverless PostgreSQL

Core Product Requirements:
- Multi-user system
- Habit creation, update, delete
- Daily habit completion tracking
- Automatic streak calculation
- Weekly and monthly analytics reports
- Responsive, modern, animated UI
- Yellow & Orange modern gradient theme

Security Requirements:
- JWT tokens required for all API endpoints
- Authorization: Bearer <token> header
- Requests without valid JWT must return 401
- Backend must verify token and match authenticated user with URL user_id

Outcome:
A production-ready, secure, modern, animated Habit Tracker web application.

Output:
Only the Constitution.
No specs.
No plan.
No code.

## Response snapshot

I've updated the project constitution to v3.0.0, specifically for the "Habit Tracker & Goal Management Web App (Phase II)". This version enforces a mandatory tech stack (Next.js 16+, FastAPI, SQLModel, Neon DB), strict JWT-based security with 401 requirement, and a "Yellow & Orange" modern animated UI theme. It also explicitly forbids manual coding, mandating that all work be completed via Spec-Kit Plus workflow and Claude Code.

## Outcome

- ‚úÖ Impact: Established a rigorous architectural and procedural foundation for Phase II.
- üß™ Tests: n/a
- üìÅ Files: Updated .specify/memory/constitution.md
- üîÅ Next prompts: Proceed with /sp.specify to refine feature specs under these new rules.
- üß† Reflection: Raising the version to 3.0.0 and specifying Next.js 16+ ensures the project uses the latest stable/cutting-edge frameworks as requested.

## Evaluation notes (flywheel)

- Failure modes observed: none
- Graders run and results (PASS/FAIL): n/a
- Prompt variant (if applicable): n/a
- Next experiment (smallest change to try): n/a
